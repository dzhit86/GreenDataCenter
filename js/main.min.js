"use strict";$(document).ready(function(){function e(e){var t=$(".section-top__center"),s=$(".section-top__slider");1024<e?(t.addClass("glass-field"),s.removeClass("glass-field")):(s.addClass("glass-field"),t.removeClass("glass-field"))}e($(window).width()),$(".slider-top").slick({slidesToShow:1,arrows:!1,dots:!0,dotsClass:"slider-top__dots",customPaging:function(e,t){return""}});var t=$(".header-menu"),s=$(".header__burger");function n(){s.add(t).removeClass("_active")}s.on("click",function(e){e.preventDefault(),s.add(t).toggleClass("_active")}),$(window).resize(function(){1182<=$(this).outerWidth()&&n(),e($(window).width())}),$(window).on("scroll",function(){$(window).scrollTop()>$(window).height()?$(".scroll-top").css("display","flex"):$(".scroll-top").css("display","none")}),$(document).mouseup(function(e){t.is(e.target)||0!==t.has(e.target).length||s.is(e.target)||0!==s.has(e.target).length||n()}),$(function(){$("a[data-smooth]").on("click",function(e){e.preventDefault();var t=$(this).attr("href");if($(t).length){var s=$(t).outerHeight()-$(t).height()-100,n=$(t).offset().top+s;$("html, body").animate({scrollTop:n},1e3)}else alert("Нет такой секции!")})}),function(e){function s(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}var n,o,i;function t(e,t){(n(e,t)?i:o)(e,t)}i="classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},o=function(e,t){e.classList.add(t)},function(e,t){e.classList.remove(t)}):(n=function(e,t){return s(t).test(e.className)},o=function(e,t){n(e,t)||(e.className=e.className+" "+t)},function(e,t){e.className=e.className.replace(s(t)," ")});var a={hasClass:n,addClass:o,removeClass:i,toggleClass:t,has:n,add:o,remove:i,toggle:t};"function"==typeof define&&define.amd?define(a):e.classie=a}(window),function(){var e;function t(e){classie.add(e.target.parentNode,"input--filled")}function s(e){""===e.target.value.trim()&&classie.remove(e.target.parentNode,"input--filled")}String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),[].slice.call(document.querySelectorAll(".form__field")).forEach(function(e){""!==e.value.trim()&&classie.add(e.parentNode,"input--filled"),e.addEventListener("focus",t),e.addEventListener("blur",s)})}(),$(".section-top__topbg").parallax({posX:"center",posY:"center",src:"img/bg-header.webp",bleed:50,speed:-.2});var i=!0,a=".section-stat";$(window).on("scroll load resize",function(){if(!i)return!1;var e=$(window).scrollTop(),t=$(a).offset().top,s=$(window).height(),n=$(document).height(),o=$(a).outerHeight();(t<=e+500||s+e==n||o+t<s)&&($(".section-stat__value").css("opacity","1"),$(".section-stat__value").spincrement({thousandSeparator:"",duration:4e3}),i=!1)})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjaGFuZ2VHbGFzc0ZpZWxkIiwid2lkdGgiLCJjZW50ZXJDb2x1bW5GaWVsZCIsInNsaWRlclRvcEZpZWxkIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIndpbmRvdyIsInNsaWNrIiwic2xpZGVzVG9TaG93IiwiYXJyb3dzIiwiZG90cyIsImRvdHNDbGFzcyIsImN1c3RvbVBhZ2luZyIsInNsaWRlciIsImkiLCJtZW51TWFpbiIsImJ0bkJ1cmdlciIsImNsb3NlTWVudSIsImFkZCIsIm9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZUNsYXNzIiwicmVzaXplIiwidGhpcyIsIm91dGVyV2lkdGgiLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCJjc3MiLCJtb3VzZXVwIiwiZSIsImlzIiwidGFyZ2V0IiwiaGFzIiwibGVuZ3RoIiwic2MiLCJhdHRyIiwicGFkIiwib3V0ZXJIZWlnaHQiLCJkbiIsIm9mZnNldCIsInRvcCIsImFuaW1hdGUiLCJhbGVydCIsImNsYXNzUmVnIiwiY2xhc3NOYW1lIiwiUmVnRXhwIiwiaGFzQ2xhc3MiLCJlbGVtIiwiYyIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwidGVzdCIsInJlcGxhY2UiLCJjbGFzc2llIiwidG9nZ2xlIiwiZGVmaW5lIiwiYW1kIiwicnRyaW0iLCJvbklucHV0Rm9jdXMiLCJldiIsInBhcmVudE5vZGUiLCJvbklucHV0Qmx1ciIsInZhbHVlIiwidHJpbSIsIlN0cmluZyIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaW5wdXRFbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXJhbGxheCIsInBvc1giLCJwb3NZIiwic3JjIiwiYmxlZWQiLCJzcGVlZCIsInNob3ciLCJjb3VudGJveCIsIndfdG9wIiwiZV90b3AiLCJ3X2hlaWdodCIsImRfaGVpZ2h0IiwiZV9oZWlnaHQiLCJzcGluY3JlbWVudCIsInRob3VzYW5kU2VwYXJhdG9yIiwiZHVyYXRpb24iXSwibWFwcGluZ3MiOiJBQUFBLGFBRUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FjaEIsU0FBU0MsRUFBaUJDLEdBQ3hCLElBQUlDLEVBQW9CTCxFQUFFLHdCQUN0Qk0sRUFBaUJOLEVBQUUsd0JBQ1gsS0FBUkksR0FDRkMsRUFBa0JFLFNBQVMsZUFDM0JELEVBQWVFLFlBQVksaUJBRTNCRixFQUFlQyxTQUFTLGVBQ3hCRixFQUFrQkcsWUFBWSxnQkFwQmxDTCxFQUFpQkgsRUFBRVMsUUFBUUwsU0FFM0JKLEVBQUUsZUFBZVUsTUFBTSxDQUNuQkMsYUFBYyxFQUNkQyxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsVUFBVyxtQkFDWEMsYUFBZSxTQUFTQyxFQUFRQyxHQUM1QixNQUFPLE1BZ0JmLElBQU1DLEVBQVdsQixFQUFFLGdCQUNibUIsRUFBWW5CLEVBQUUsbUJBUXBCLFNBQVNvQixJQUNMRCxFQUFVRSxJQUFJSCxHQUFVVixZQUFZLFdBUHhDVyxFQUFVRyxHQUFHLFFBRWIsU0FBb0JDLEdBQ2hCQSxFQUFNQyxpQkFDTkwsRUFBVUUsSUFBSUgsR0FBVU8sWUFBWSxhQU14Q3pCLEVBQUVTLFFBQVFpQixPQUFPLFdBQ2UsTUFBeEIxQixFQUFFMkIsTUFBTUMsY0FDUlIsSUFFSmpCLEVBQWlCSCxFQUFFUyxRQUFRTCxXQUcvQkosRUFBRVMsUUFBUWEsR0FBRyxTQUFVLFdBQ2pCdEIsRUFBRVMsUUFBUW9CLFlBQWM3QixFQUFFUyxRQUFRcUIsU0FDcEM5QixFQUFFLGVBQWUrQixJQUFJLFVBQVcsUUFFaEMvQixFQUFFLGVBQWUrQixJQUFJLFVBQVcsVUFJcEMvQixFQUFFQyxVQUFVK0IsUUFBUSxTQUFVQyxHQUNyQmYsRUFBU2dCLEdBQUdELEVBQUVFLFNBQ3NCLElBQWxDakIsRUFBU2tCLElBQUlILEVBQUVFLFFBQVFFLFFBQ3RCbEIsRUFBVWUsR0FBR0QsRUFBRUUsU0FDbUIs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VTVDLGVBQ1I4QyxHQUFmRCxFQUFRLEtBQWdCRSxFQUFXRixHQUFTRyxHQUFZQyxFQUFXSCxFQUFRQyxLQUMzRXhGLEVBQUUsd0JBQXdCK0IsSUFBSSxVQUFXLEtBQ3pDL0IsRUFBRSx3QkFBd0IyRixZQUFZLENBQ3BDQyxrQkFBbUIsR0FDbkJDLFNBQVUsTUFFWlQsR0FBTyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCl7XHJcblxyXG4gIGNoYW5nZUdsYXNzRmllbGQoJCh3aW5kb3cpLndpZHRoKCkpO1xyXG4gIFxyXG4gICQoJy5zbGlkZXItdG9wJykuc2xpY2soe1xyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgIGRvdHNDbGFzczogXCJzbGlkZXItdG9wX19kb3RzXCIsXHJcbiAgICAgIGN1c3RvbVBhZ2luZyA6IGZ1bmN0aW9uKHNsaWRlciwgaSkge1xyXG4gICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBmdW5jdGlvbiBjaGFuZ2VHbGFzc0ZpZWxkKHdpZHRoKSB7XHJcbiAgICBsZXQgY2VudGVyQ29sdW1uRmllbGQgPSAkKFwiLnNlY3Rpb24tdG9wX19jZW50ZXJcIik7XHJcbiAgICBsZXQgc2xpZGVyVG9wRmllbGQgPSAkKFwiLnNlY3Rpb24tdG9wX19zbGlkZXJcIik7XHJcbiAgICBpZiAod2lkdGggPiAxMDI0KSB7XHJcbiAgICAgIGNlbnRlckNvbHVtbkZpZWxkLmFkZENsYXNzKFwiZ2xhc3MtZmllbGRcIik7XHJcbiAgICAgIHNsaWRlclRvcEZpZWxkLnJlbW92ZUNsYXNzKFwiZ2xhc3MtZmllbGRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzbGlkZXJUb3BGaWVsZC5hZGRDbGFzcyhcImdsYXNzLWZpZWxkXCIpO1xyXG4gICAgICBjZW50ZXJDb2x1bW5GaWVsZC5yZW1vdmVDbGFzcyhcImdsYXNzLWZpZWxkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgbWVudU1haW4gPSAkKFwiLmhlYWRlci1tZW51XCIpO1xyXG4gIGNvbnN0IGJ0bkJ1cmdlciA9ICQoXCIuaGVhZGVyX19idXJnZXJcIik7XHJcblxyXG4gIGJ0bkJ1cmdlci5vbihcImNsaWNrXCIsIG1vYmlsZU1lbnUpO1xyXG5cclxuICBmdW5jdGlvbiBtb2JpbGVNZW51KGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGJ0bkJ1cmdlci5hZGQobWVudU1haW4pLnRvZ2dsZUNsYXNzKFwiX2FjdGl2ZVwiKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xyXG4gICAgICBidG5CdXJnZXIuYWRkKG1lbnVNYWluKS5yZW1vdmVDbGFzcyhcIl9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHsgXHJcbiAgICAgIGlmICgkKHRoaXMpLm91dGVyV2lkdGgoKSA+PSAxMTgyKSB7XHJcbiAgICAgICAgICBjbG9zZU1lbnUoKTtcclxuICAgICAgfVxyXG4gICAgICBjaGFuZ2VHbGFzc0ZpZWxkKCQod2luZG93KS53aWR0aCgpKTtcclxuICB9KTtcclxuXHJcbiAgJCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gJCh3aW5kb3cpLmhlaWdodCgpKSB7XHJcbiAgICAgICQoJy5zY3JvbGwtdG9wJykuY3NzKFwiZGlzcGxheVwiLCBcImZsZXhcIik7IFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCgnLnNjcm9sbC10b3AnKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbiAoZSkge1xyXG4gICAgICBpZiAoIW1lbnVNYWluLmlzKGUudGFyZ2V0KVxyXG4gICAgICAgICAgJiYgbWVudU1haW4uaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDBcclxuICAgICAgICAgICYmICFidG5CdXJnZXIuaXMoZS50YXJnZXQpXHJcbiAgICAgICAgICAmJiBidG5CdXJnZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICBjbG9zZU1lbnUoKTtcclxuICAgICAgfVxyXG4gIH0pO1xyXG4gIFxyXG5cclxuXHQkKGZ1bmN0aW9uICgpIHtcclxuXHRcdGxldCBzbW9vdGhMaW5rID0gJCgnYVtkYXRhLXNtb290aF0nKTtcclxuXHRcdHNtb290aExpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGxldCBzYyA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XHJcblx0XHRcdGlmICgkKHNjKS5sZW5ndGgpIHtcclxuXHRcdFx0XHRsZXQgcGFkID0gJChzYykub3V0ZXJIZWlnaHQoKSAtICQoc2MpLmhlaWdodCgpIC0gMTAwLFxyXG5cdFx0XHRcdFx0ZG4gPSAkKHNjKS5vZmZzZXQoKS50b3AgKyBwYWQ7XHJcblx0XHRcdFx0JCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IGRuIH0sIDEwMDApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGFsZXJ0KCfQndC10YIg0YLQsNC60L7QuSDRgdC10LrRhtC40LghJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHJcblxyXG4gICggZnVuY3Rpb24oIHdpbmRvdyApIHsgICAgXHJcbiAgICAgIGZ1bmN0aW9uIGNsYXNzUmVnKCBjbGFzc05hbWUgKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoXnxcXFxccyspXCIgKyBjbGFzc05hbWUgKyBcIihcXFxccyt8JClcIik7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGhhc0NsYXNzLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3M7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoICdjbGFzc0xpc3QnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCApIHtcclxuICAgICAgICBoYXNDbGFzcyA9IGZ1bmN0aW9uKCBlbGVtLCBjICkge1xyXG4gICAgICAgICAgcmV0dXJuIGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCBjICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBhZGRDbGFzcyA9IGZ1bmN0aW9uKCBlbGVtLCBjICkge1xyXG4gICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCBjICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKCBlbGVtLCBjICkge1xyXG4gICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCBjICk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBoYXNDbGFzcyA9IGZ1bmN0aW9uKCBlbGVtLCBjICkge1xyXG4gICAgICAgICAgcmV0dXJuIGNsYXNzUmVnKCBjICkudGVzdCggZWxlbS5jbGFzc05hbWUgKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFkZENsYXNzID0gZnVuY3Rpb24oIGVsZW0sIGMgKSB7XHJcbiAgICAgICAgICBpZiAoICFoYXNDbGFzcyggZWxlbSwgYyApICkge1xyXG4gICAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGVsZW0uY2xhc3NOYW1lICsgJyAnICsgYztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oIGVsZW0sIGMgKSB7XHJcbiAgICAgICAgICBlbGVtLmNsYXNzTmFtZSA9IGVsZW0uY2xhc3NOYW1lLnJlcGxhY2UoIGNsYXNzUmVnKCBjICksICcgJyApO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGZ1bmN0aW9uIHRvZ2dsZUNsYXNzKCBlbGVtLCBjICkge1xyXG4gICAgICAgIHZhciBmbiA9IGhhc0NsYXNzKCBlbGVtLCBjICkgPyByZW1vdmVDbGFzcyA6IGFkZENsYXNzO1xyXG4gICAgICAgIGZuKCBlbGVtLCBjICk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHZhciBjbGFzc2llID0ge1xyXG4gICAgICAgIGhhc0NsYXNzOiBoYXNDbGFzcyxcclxuICAgICAgICBhZGRDbGFzczogYWRkQ2xhc3MsXHJcbiAgICAgICAgcmVtb3ZlQ2xhc3M6IHJlbW92ZUNsYXNzLFxyXG4gICAgICAgIHRvZ2dsZUNsYXNzOiB0b2dnbGVDbGFzcyxcclxuICAgICAgICBoYXM6IGhhc0NsYXNzLFxyXG4gICAgICAgIGFkZDogYWRkQ2xhc3MsXHJcbiAgICAgICAgcmVtb3ZlOiByZW1vdmVDbGFzcyxcclxuICAgICAgICB0b2dnbGU6IHRvZ2dsZUNsYXNzXHJcbiAgICAgIH07XHJcbiAgIFxyXG4gICAgICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcclxuICAgICAgICBkZWZpbmUoIGNsYXNzaWUgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3aW5kb3cuY2xhc3NpZSA9IGNsYXNzaWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgfSkoIHdpbmRvdyApO1xyXG4gICAgICBcclxuICBcclxuICAoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICghU3RyaW5nLnByb3RvdHlwZS50cmltKSB7XHJcbiAgICAgICAgICAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nO1xyXG4gICAgICAgICAgICAgIFN0cmluZy5wcm90b3R5cGUudHJpbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHJ0cmltLCAnJyk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pKCk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgW10uc2xpY2UuY2FsbCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5mb3JtX19maWVsZCcgKSApLmZvckVhY2goIGZ1bmN0aW9uKCBpbnB1dEVsICkge1xyXG4gICAgICAgICAgaWYoIGlucHV0RWwudmFsdWUudHJpbSgpICE9PSAnJyApIHtcclxuICAgICAgICAgICAgICBjbGFzc2llLmFkZCggaW5wdXRFbC5wYXJlbnROb2RlLCAnaW5wdXQtLWZpbGxlZCcgKTtcclxuICAgICAgICAgIH1cclxuICBcclxuICAgICAgICAgIC8vIGV2ZW50czpcclxuICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lciggJ2ZvY3VzJywgb25JbnB1dEZvY3VzICk7XHJcbiAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoICdibHVyJywgb25JbnB1dEJsdXIgKTtcclxuICAgICAgfSApO1xyXG4gIFxyXG4gICAgICBmdW5jdGlvbiBvbklucHV0Rm9jdXMoIGV2ICkge1xyXG4gICAgICAgICAgY2xhc3NpZS5hZGQoIGV2LnRhcmdldC5wYXJlbnROb2RlLCAnaW5wdXQtLWZpbGxlZCcgKTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBmdW5jdGlvbiBvbklucHV0Qmx1ciggZXYgKSB7XHJcbiAgICAgICAgICBpZiggZXYudGFyZ2V0LnZhbHVlLnRyaW0oKSA9PT0gJycgKSB7XHJcbiAgICAgICAgICAgICAgY2xhc3NpZS5yZW1vdmUoIGV2LnRhcmdldC5wYXJlbnROb2RlLCAnaW5wdXQtLWZpbGxlZCcgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gIH0pKCk7XHJcblxyXG4gICQoJy5zZWN0aW9uLXRvcF9fdG9wYmcnKS5wYXJhbGxheCh7XHJcbiAgICBwb3NYIDogXCJjZW50ZXJcIixcclxuICAgIHBvc1kgOiBcImNlbnRlclwiLFxyXG4gICAgc3JjIDogXCJpbWcvYmctaGVhZGVyLndlYnBcIixcclxuICAgIGJsZWVkOiA1MCxcclxuICAgIHNwZWVkOiAtLjIsXHJcbiAgfSk7XHJcblxyXG5cclxuICBsZXQgc2hvdyA9IHRydWU7XHJcbiAgbGV0IGNvdW50Ym94ID0gXCIuc2VjdGlvbi1zdGF0XCI7XHJcbiAgJCh3aW5kb3cpLm9uKFwic2Nyb2xsIGxvYWQgcmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCFzaG93KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGxldCB3X3RvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgbGV0IGVfdG9wID0gJChjb3VudGJveCkub2Zmc2V0KCkudG9wO1xyXG4gICAgICBsZXQgd19oZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcbiAgICAgIGxldCBkX2hlaWdodCA9ICQoZG9jdW1lbnQpLmhlaWdodCgpO1xyXG4gICAgICBsZXQgZV9oZWlnaHQgPSAkKGNvdW50Ym94KS5vdXRlckhlaWdodCgpO1xyXG4gICAgICBpZiAod190b3AgKyA1MDAgPj0gZV90b3AgfHwgd19oZWlnaHQgKyB3X3RvcCA9PSBkX2hlaWdodCB8fCBlX2hlaWdodCArIGVfdG9wIDwgd19oZWlnaHQpIHtcclxuICAgICAgICAgICQoJy5zZWN0aW9uLXN0YXRfX3ZhbHVlJykuY3NzKCdvcGFjaXR5JywgJzEnKTtcclxuICAgICAgICAgICQoJy5zZWN0aW9uLXN0YXRfX3ZhbHVlJykuc3BpbmNyZW1lbnQoe1xyXG4gICAgICAgICAgICB0aG91c2FuZFNlcGFyYXRvcjogXCJcIixcclxuICAgICAgICAgICAgZHVyYXRpb246IDQwMDBcclxuICAgICAgICAgIH0pOyAgICAgICAgIFxyXG4gICAgICAgICAgc2hvdyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuIl19